"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/algorithm/start";
exports.ids = ["pages/api/algorithm/start"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Falgorithm%2Fstart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Falgorithm%2Fstart.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Falgorithm%2Fstart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Falgorithm%2Fstart.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_algorithm_start_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/algorithm/start.js */ \"(api-node)/./src/pages/api/algorithm/start.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_algorithm_start_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_algorithm_start_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/algorithm/start\",\n        pathname: \"/api/algorithm/start\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_algorithm_start_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYWxnb3JpdGhtJTJGc3RhcnQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRmFsZ29yaXRobSUyRnN0YXJ0LmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQytEO0FBQy9EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyw4REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsOERBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvYXBpL2FsZ29yaXRobS9zdGFydC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWxnb3JpdGhtL3N0YXJ0XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWxnb3JpdGhtL3N0YXJ0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Falgorithm%2Fstart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Falgorithm%2Fstart.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./src/pages/api/algorithm/start.js":
/*!******************************************!*\
  !*** ./src/pages/api/algorithm/start.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Track the algorithm process globally\nlet algorithmProcess = null;\n// Function to handle algorithm output and parse trade signals\nfunction handleAlgorithmOutput(data) {\n    console.log(`Algorithm output: ${data}`);\n// No need to parse trade signals here as each algorithm test function\n// will call sendSignal which will handle storing trades in the tradeStore\n}\nfunction handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    // If the algorithm is already running, don't start it again\n    if (algorithmProcess) {\n        return res.status(200).json({\n            status: 'Already running',\n            message: 'Trading algorithm is already running'\n        });\n    }\n    try {\n        // Path to piston.js entry point\n        const pistonPath = path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), 'piston.js');\n        // Spawn the algorithm process\n        algorithmProcess = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)('node', [\n            pistonPath\n        ], {\n            env: {\n                ...process.env,\n                NODE_ENV: 'production'\n            },\n            detached: true\n        });\n        // Log process information\n        console.log(`Started trading algorithm process with PID: ${algorithmProcess.pid}`);\n        // Handle process output\n        algorithmProcess.stdout.on('data', (data)=>{\n            handleAlgorithmOutput(data);\n        });\n        // Handle process errors\n        algorithmProcess.stderr.on('data', (data)=>{\n            console.error(`Algorithm error: ${data}`);\n        });\n        // Handle process exit\n        algorithmProcess.on('close', (code)=>{\n            console.log(`Algorithm process exited with code ${code}`);\n            // Reset the process variable\n            algorithmProcess = null;\n            // Attempt to restart the algorithm if it crashes\n            if (code !== 0) {\n                setTimeout(()=>{\n                    // Restart the algorithm process\n                    const restartPath = path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), 'piston.js');\n                    algorithmProcess = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)('node', [\n                        restartPath\n                    ], {\n                        env: {\n                            ...process.env,\n                            NODE_ENV: 'production'\n                        },\n                        detached: true\n                    });\n                    console.log(`Restarted algorithm process with PID: ${algorithmProcess.pid}`);\n                    // Set up event handlers for the restarted process\n                    algorithmProcess.stdout.on('data', handleAlgorithmOutput);\n                    algorithmProcess.stderr.on('data', (data)=>{\n                        console.error(`Algorithm error after restart: ${data}`);\n                    });\n                    algorithmProcess.on('close', (code)=>{\n                        console.log(`Restarted algorithm process exited with code ${code}`);\n                        algorithmProcess = null;\n                    });\n                }, 5000); // Wait 5 seconds before restarting\n            }\n        });\n        // Return success response\n        return res.status(200).json({\n            status: 'Started',\n            message: 'Trading algorithm started successfully',\n            pid: algorithmProcess.pid\n        });\n    } catch (error) {\n        console.error('Error starting algorithm:', error);\n        // Reset the process variable if there was an error\n        algorithmProcess = null;\n        return res.status(500).json({\n            error: 'Failed to start trading algorithm',\n            message: error.message\n        });\n    }\n}\n// Ensure the process is cleaned up on server shutdown\nif (typeof process !== 'undefined') {\n    process.on('SIGTERM', ()=>{\n        if (algorithmProcess) {\n            algorithmProcess.kill();\n            algorithmProcess = null;\n        }\n    });\n    process.on('SIGINT', ()=>{\n        if (algorithmProcess) {\n            algorithmProcess.kill();\n            algorithmProcess = null;\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9wYWdlcy9hcGkvYWxnb3JpdGhtL3N0YXJ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBQ2Q7QUFFeEIsdUNBQXVDO0FBQ3ZDLElBQUlFLG1CQUFtQjtBQUV2Qiw4REFBOEQ7QUFDOUQsU0FBU0Msc0JBQXNCQyxJQUFJO0lBQ2pDQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUYsTUFBTTtBQUV2QyxzRUFBc0U7QUFDdEUsMEVBQTBFO0FBQzVFO0FBRWUsU0FBU0csUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQ3RDLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFxQjtJQUM1RDtJQUVBLDREQUE0RDtJQUM1RCxJQUFJWCxrQkFBa0I7UUFDcEIsT0FBT08sSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUMxQkQsUUFBUTtZQUNSRyxTQUFTO1FBQ1g7SUFDRjtJQUVBLElBQUk7UUFDRixnQ0FBZ0M7UUFDaEMsTUFBTUMsYUFBYWQsbURBQVksQ0FBQ2dCLFFBQVFDLEdBQUcsSUFBSTtRQUUvQyw4QkFBOEI7UUFDOUJoQixtQkFBbUJGLG9EQUFLQSxDQUFDLFFBQVE7WUFBQ2U7U0FBVyxFQUFFO1lBQzdDSSxLQUFLO2dCQUFFLEdBQUdGLFFBQVFFLEdBQUc7Z0JBQUVDLFVBQVU7WUFBYTtZQUM5Q0MsVUFBVTtRQUNaO1FBRUEsMEJBQTBCO1FBQzFCaEIsUUFBUUMsR0FBRyxDQUFDLENBQUMsNENBQTRDLEVBQUVKLGlCQUFpQm9CLEdBQUcsRUFBRTtRQUVqRix3QkFBd0I7UUFDeEJwQixpQkFBaUJxQixNQUFNLENBQUNDLEVBQUUsQ0FBQyxRQUFRLENBQUNwQjtZQUNsQ0Qsc0JBQXNCQztRQUN4QjtRQUVBLHdCQUF3QjtRQUN4QkYsaUJBQWlCdUIsTUFBTSxDQUFDRCxFQUFFLENBQUMsUUFBUSxDQUFDcEI7WUFDbENDLFFBQVFRLEtBQUssQ0FBQyxDQUFDLGlCQUFpQixFQUFFVCxNQUFNO1FBQzFDO1FBRUEsc0JBQXNCO1FBQ3RCRixpQkFBaUJzQixFQUFFLENBQUMsU0FBUyxDQUFDRTtZQUM1QnJCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG1DQUFtQyxFQUFFb0IsTUFBTTtZQUV4RCw2QkFBNkI7WUFDN0J4QixtQkFBbUI7WUFFbkIsaURBQWlEO1lBQ2pELElBQUl3QixTQUFTLEdBQUc7Z0JBQ2RDLFdBQVc7b0JBQ1QsZ0NBQWdDO29CQUNoQyxNQUFNQyxjQUFjM0IsbURBQVksQ0FBQ2dCLFFBQVFDLEdBQUcsSUFBSTtvQkFDaERoQixtQkFBbUJGLG9EQUFLQSxDQUFDLFFBQVE7d0JBQUM0QjtxQkFBWSxFQUFFO3dCQUM5Q1QsS0FBSzs0QkFBRSxHQUFHRixRQUFRRSxHQUFHOzRCQUFFQyxVQUFVO3dCQUFhO3dCQUM5Q0MsVUFBVTtvQkFDWjtvQkFFQWhCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHNDQUFzQyxFQUFFSixpQkFBaUJvQixHQUFHLEVBQUU7b0JBRTNFLGtEQUFrRDtvQkFDbERwQixpQkFBaUJxQixNQUFNLENBQUNDLEVBQUUsQ0FBQyxRQUFRckI7b0JBRW5DRCxpQkFBaUJ1QixNQUFNLENBQUNELEVBQUUsQ0FBQyxRQUFRLENBQUNwQjt3QkFDbENDLFFBQVFRLEtBQUssQ0FBQyxDQUFDLCtCQUErQixFQUFFVCxNQUFNO29CQUN4RDtvQkFFQUYsaUJBQWlCc0IsRUFBRSxDQUFDLFNBQVMsQ0FBQ0U7d0JBQzVCckIsUUFBUUMsR0FBRyxDQUFDLENBQUMsNkNBQTZDLEVBQUVvQixNQUFNO3dCQUNsRXhCLG1CQUFtQjtvQkFDckI7Z0JBQ0YsR0FBRyxPQUFPLG1DQUFtQztZQUMvQztRQUNGO1FBRUEsMEJBQTBCO1FBQzFCLE9BQU9PLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDMUJELFFBQVE7WUFDUkcsU0FBUztZQUNUUSxLQUFLcEIsaUJBQWlCb0IsR0FBRztRQUMzQjtJQUNGLEVBQUUsT0FBT1QsT0FBTztRQUNkUixRQUFRUSxLQUFLLENBQUMsNkJBQTZCQTtRQUUzQyxtREFBbUQ7UUFDbkRYLG1CQUFtQjtRQUVuQixPQUFPTyxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxPQUFPO1lBQ1BDLFNBQVNELE1BQU1DLE9BQU87UUFDeEI7SUFDRjtBQUNGO0FBRUEsc0RBQXNEO0FBQ3RELElBQUksT0FBT0csWUFBWSxhQUFhO0lBQ2xDQSxRQUFRTyxFQUFFLENBQUMsV0FBVztRQUNwQixJQUFJdEIsa0JBQWtCO1lBQ3BCQSxpQkFBaUIyQixJQUFJO1lBQ3JCM0IsbUJBQW1CO1FBQ3JCO0lBQ0Y7SUFFQWUsUUFBUU8sRUFBRSxDQUFDLFVBQVU7UUFDbkIsSUFBSXRCLGtCQUFrQjtZQUNwQkEsaUJBQWlCMkIsSUFBSTtZQUNyQjNCLG1CQUFtQjtRQUNyQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbXJhYW4uYWRlbS9Eb2N1bWVudHMvUHJvamVjdHMvTmVydmFsYS9OZXJ2YWxhLmZpbGVzL3NyYy9wYWdlcy9hcGkvYWxnb3JpdGhtL3N0YXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNwYXduIH0gZnJvbSAnY2hpbGRfcHJvY2Vzcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuLy8gVHJhY2sgdGhlIGFsZ29yaXRobSBwcm9jZXNzIGdsb2JhbGx5XG5sZXQgYWxnb3JpdGhtUHJvY2VzcyA9IG51bGw7XG5cbi8vIEZ1bmN0aW9uIHRvIGhhbmRsZSBhbGdvcml0aG0gb3V0cHV0IGFuZCBwYXJzZSB0cmFkZSBzaWduYWxzXG5mdW5jdGlvbiBoYW5kbGVBbGdvcml0aG1PdXRwdXQoZGF0YSkge1xuICBjb25zb2xlLmxvZyhgQWxnb3JpdGhtIG91dHB1dDogJHtkYXRhfWApO1xuICBcbiAgLy8gTm8gbmVlZCB0byBwYXJzZSB0cmFkZSBzaWduYWxzIGhlcmUgYXMgZWFjaCBhbGdvcml0aG0gdGVzdCBmdW5jdGlvblxuICAvLyB3aWxsIGNhbGwgc2VuZFNpZ25hbCB3aGljaCB3aWxsIGhhbmRsZSBzdG9yaW5nIHRyYWRlcyBpbiB0aGUgdHJhZGVTdG9yZVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICAvLyBJZiB0aGUgYWxnb3JpdGhtIGlzIGFscmVhZHkgcnVubmluZywgZG9uJ3Qgc3RhcnQgaXQgYWdhaW5cbiAgaWYgKGFsZ29yaXRobVByb2Nlc3MpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgIHN0YXR1czogJ0FscmVhZHkgcnVubmluZycsXG4gICAgICBtZXNzYWdlOiAnVHJhZGluZyBhbGdvcml0aG0gaXMgYWxyZWFkeSBydW5uaW5nJ1xuICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBQYXRoIHRvIHBpc3Rvbi5qcyBlbnRyeSBwb2ludFxuICAgIGNvbnN0IHBpc3RvblBhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJ3Bpc3Rvbi5qcycpO1xuICAgIFxuICAgIC8vIFNwYXduIHRoZSBhbGdvcml0aG0gcHJvY2Vzc1xuICAgIGFsZ29yaXRobVByb2Nlc3MgPSBzcGF3bignbm9kZScsIFtwaXN0b25QYXRoXSwge1xuICAgICAgZW52OiB7IC4uLnByb2Nlc3MuZW52LCBOT0RFX0VOVjogJ3Byb2R1Y3Rpb24nIH0sXG4gICAgICBkZXRhY2hlZDogdHJ1ZSwgLy8gUnVuIGluIHRoZSBiYWNrZ3JvdW5kXG4gICAgfSk7XG4gICAgXG4gICAgLy8gTG9nIHByb2Nlc3MgaW5mb3JtYXRpb25cbiAgICBjb25zb2xlLmxvZyhgU3RhcnRlZCB0cmFkaW5nIGFsZ29yaXRobSBwcm9jZXNzIHdpdGggUElEOiAke2FsZ29yaXRobVByb2Nlc3MucGlkfWApO1xuICAgIFxuICAgIC8vIEhhbmRsZSBwcm9jZXNzIG91dHB1dFxuICAgIGFsZ29yaXRobVByb2Nlc3Muc3Rkb3V0Lm9uKCdkYXRhJywgKGRhdGEpID0+IHtcbiAgICAgIGhhbmRsZUFsZ29yaXRobU91dHB1dChkYXRhKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcHJvY2VzcyBlcnJvcnNcbiAgICBhbGdvcml0aG1Qcm9jZXNzLnN0ZGVyci5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGBBbGdvcml0aG0gZXJyb3I6ICR7ZGF0YX1gKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgcHJvY2VzcyBleGl0XG4gICAgYWxnb3JpdGhtUHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEFsZ29yaXRobSBwcm9jZXNzIGV4aXRlZCB3aXRoIGNvZGUgJHtjb2RlfWApO1xuICAgICAgXG4gICAgICAvLyBSZXNldCB0aGUgcHJvY2VzcyB2YXJpYWJsZVxuICAgICAgYWxnb3JpdGhtUHJvY2VzcyA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIEF0dGVtcHQgdG8gcmVzdGFydCB0aGUgYWxnb3JpdGhtIGlmIGl0IGNyYXNoZXNcbiAgICAgIGlmIChjb2RlICE9PSAwKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vIFJlc3RhcnQgdGhlIGFsZ29yaXRobSBwcm9jZXNzXG4gICAgICAgICAgY29uc3QgcmVzdGFydFBhdGggPSBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgJ3Bpc3Rvbi5qcycpO1xuICAgICAgICAgIGFsZ29yaXRobVByb2Nlc3MgPSBzcGF3bignbm9kZScsIFtyZXN0YXJ0UGF0aF0sIHtcbiAgICAgICAgICAgIGVudjogeyAuLi5wcm9jZXNzLmVudiwgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJyB9LFxuICAgICAgICAgICAgZGV0YWNoZWQ6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coYFJlc3RhcnRlZCBhbGdvcml0aG0gcHJvY2VzcyB3aXRoIFBJRDogJHthbGdvcml0aG1Qcm9jZXNzLnBpZH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZXQgdXAgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSByZXN0YXJ0ZWQgcHJvY2Vzc1xuICAgICAgICAgIGFsZ29yaXRobVByb2Nlc3Muc3Rkb3V0Lm9uKCdkYXRhJywgaGFuZGxlQWxnb3JpdGhtT3V0cHV0KTtcbiAgICAgICAgICBcbiAgICAgICAgICBhbGdvcml0aG1Qcm9jZXNzLnN0ZGVyci5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBBbGdvcml0aG0gZXJyb3IgYWZ0ZXIgcmVzdGFydDogJHtkYXRhfWApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGFsZ29yaXRobVByb2Nlc3Mub24oJ2Nsb3NlJywgKGNvZGUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXN0YXJ0ZWQgYWxnb3JpdGhtIHByb2Nlc3MgZXhpdGVkIHdpdGggY29kZSAke2NvZGV9YCk7XG4gICAgICAgICAgICBhbGdvcml0aG1Qcm9jZXNzID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNTAwMCk7IC8vIFdhaXQgNSBzZWNvbmRzIGJlZm9yZSByZXN0YXJ0aW5nXG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgIHN0YXR1czogJ1N0YXJ0ZWQnLFxuICAgICAgbWVzc2FnZTogJ1RyYWRpbmcgYWxnb3JpdGhtIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIHBpZDogYWxnb3JpdGhtUHJvY2Vzcy5waWRcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyBhbGdvcml0aG06JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFJlc2V0IHRoZSBwcm9jZXNzIHZhcmlhYmxlIGlmIHRoZXJlIHdhcyBhbiBlcnJvclxuICAgIGFsZ29yaXRobVByb2Nlc3MgPSBudWxsO1xuICAgIFxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gc3RhcnQgdHJhZGluZyBhbGdvcml0aG0nLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxuICAgIH0pO1xuICB9XG59XG5cbi8vIEVuc3VyZSB0aGUgcHJvY2VzcyBpcyBjbGVhbmVkIHVwIG9uIHNlcnZlciBzaHV0ZG93blxuaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICBwcm9jZXNzLm9uKCdTSUdURVJNJywgKCkgPT4ge1xuICAgIGlmIChhbGdvcml0aG1Qcm9jZXNzKSB7XG4gICAgICBhbGdvcml0aG1Qcm9jZXNzLmtpbGwoKTtcbiAgICAgIGFsZ29yaXRobVByb2Nlc3MgPSBudWxsO1xuICAgIH1cbiAgfSk7XG4gIFxuICBwcm9jZXNzLm9uKCdTSUdJTlQnLCAoKSA9PiB7XG4gICAgaWYgKGFsZ29yaXRobVByb2Nlc3MpIHtcbiAgICAgIGFsZ29yaXRobVByb2Nlc3Mua2lsbCgpO1xuICAgICAgYWxnb3JpdGhtUHJvY2VzcyA9IG51bGw7XG4gICAgfVxuICB9KTtcbn0gIl0sIm5hbWVzIjpbInNwYXduIiwicGF0aCIsImFsZ29yaXRobVByb2Nlc3MiLCJoYW5kbGVBbGdvcml0aG1PdXRwdXQiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXNzYWdlIiwicGlzdG9uUGF0aCIsInJlc29sdmUiLCJwcm9jZXNzIiwiY3dkIiwiZW52IiwiTk9ERV9FTlYiLCJkZXRhY2hlZCIsInBpZCIsInN0ZG91dCIsIm9uIiwic3RkZXJyIiwiY29kZSIsInNldFRpbWVvdXQiLCJyZXN0YXJ0UGF0aCIsImtpbGwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./src/pages/api/algorithm/start.js\n");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Falgorithm%2Fstart&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Falgorithm%2Fstart.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();