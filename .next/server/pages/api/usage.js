"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/usage";
exports.ids = ["pages/api/usage"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusage&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fusage.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusage&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fusage.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_usage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/usage.js */ \"(api-node)/./src/pages/api/usage.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_usage_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_usage_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/usage\",\n        pathname: \"/api/usage\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _src_pages_api_usage_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGdXNhZ2UmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRnVzYWdlLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ3FEO0FBQ3JEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9zcmMvcGFnZXMvYXBpL3VzYWdlLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91c2FnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VzYWdlXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusage&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fusage.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./src/pages/api/usage.js":
/*!********************************!*\
  !*** ./src/pages/api/usage.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_usageTracker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/usageTracker.js */ \"(api-node)/./src/utils/usageTracker.js\");\n\nasync function handler(req, res) {\n    // Only allow authorized requests in production\n    if (false) {}\n    try {\n        // Get the type of stats requested\n        const { type = 'summary' } = req.query;\n        if (type === 'raw') {\n            // Return raw usage statistics\n            const stats = (0,_utils_usageTracker_js__WEBPACK_IMPORTED_MODULE_0__.getUsageStats)();\n            res.status(200).json(stats);\n        } else {\n            // Return load distribution statistics\n            const distribution = (0,_utils_usageTracker_js__WEBPACK_IMPORTED_MODULE_0__.getLoadDistribution)();\n            res.status(200).json(distribution);\n        }\n    } catch (error) {\n        console.error('Error retrieving usage statistics:', error);\n        res.status(500).json({\n            error: 'Failed to retrieve usage statistics'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3NyYy9wYWdlcy9hcGkvdXNhZ2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUY7QUFFbEUsZUFBZUUsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzVDLCtDQUErQztJQUMvQyxJQUFJQyxLQUFxQyxFQUFFLEVBTTFDO0lBRUQsSUFBSTtRQUNGLGtDQUFrQztRQUNsQyxNQUFNLEVBQUVRLE9BQU8sU0FBUyxFQUFFLEdBQUdWLElBQUlXLEtBQUs7UUFFdEMsSUFBSUQsU0FBUyxPQUFPO1lBQ2xCLDhCQUE4QjtZQUM5QixNQUFNRSxRQUFRZixxRUFBYUE7WUFDM0JJLElBQUlNLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNJO1FBQ3ZCLE9BQU87WUFDTCxzQ0FBc0M7WUFDdEMsTUFBTUMsZUFBZWYsMkVBQW1CQTtZQUN4Q0csSUFBSU0sTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0s7UUFDdkI7SUFDRixFQUFFLE9BQU9KLE9BQU87UUFDZEssUUFBUUwsS0FBSyxDQUFDLHNDQUFzQ0E7UUFDcERSLElBQUlNLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFzQztJQUN0RTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvZW1yYWFuLmFkZW0vRG9jdW1lbnRzL1Byb2plY3RzL05lcnZhbGEvTmVydmFsYS5maWxlcy9zcmMvcGFnZXMvYXBpL3VzYWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFVzYWdlU3RhdHMsIGdldExvYWREaXN0cmlidXRpb24gfSBmcm9tICcuLi8uLi91dGlscy91c2FnZVRyYWNrZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIC8vIE9ubHkgYWxsb3cgYXV0aG9yaXplZCByZXF1ZXN0cyBpbiBwcm9kdWN0aW9uXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gU2ltcGxlIEFQSSBrZXkgY2hlY2sgLSBpbiBhIHJlYWwgYXBwLCB1c2UgYSBwcm9wZXIgYXV0aGVudGljYXRpb24gc3lzdGVtXG4gICAgY29uc3QgYXBpS2V5ID0gcmVxLmhlYWRlcnNbJ3gtYXBpLWtleSddO1xuICAgIGlmICghYXBpS2V5IHx8IGFwaUtleSAhPT0gcHJvY2Vzcy5lbnYuQURNSU5fQVBJX0tFWSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBHZXQgdGhlIHR5cGUgb2Ygc3RhdHMgcmVxdWVzdGVkXG4gICAgY29uc3QgeyB0eXBlID0gJ3N1bW1hcnknIH0gPSByZXEucXVlcnk7XG4gICAgXG4gICAgaWYgKHR5cGUgPT09ICdyYXcnKSB7XG4gICAgICAvLyBSZXR1cm4gcmF3IHVzYWdlIHN0YXRpc3RpY3NcbiAgICAgIGNvbnN0IHN0YXRzID0gZ2V0VXNhZ2VTdGF0cygpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oc3RhdHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZXR1cm4gbG9hZCBkaXN0cmlidXRpb24gc3RhdGlzdGljc1xuICAgICAgY29uc3QgZGlzdHJpYnV0aW9uID0gZ2V0TG9hZERpc3RyaWJ1dGlvbigpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZGlzdHJpYnV0aW9uKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyB1c2FnZSBzdGF0aXN0aWNzOicsIGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHJldHJpZXZlIHVzYWdlIHN0YXRpc3RpY3MnIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJnZXRVc2FnZVN0YXRzIiwiZ2V0TG9hZERpc3RyaWJ1dGlvbiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJwcm9jZXNzIiwiYXBpS2V5IiwiaGVhZGVycyIsImVudiIsIkFETUlOX0FQSV9LRVkiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ0eXBlIiwicXVlcnkiLCJzdGF0cyIsImRpc3RyaWJ1dGlvbiIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./src/pages/api/usage.js\n");

/***/ }),

/***/ "(api-node)/./src/utils/usageTracker.js":
/*!***********************************!*\
  !*** ./src/utils/usageTracker.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLoadDistribution: () => (/* binding */ getLoadDistribution),\n/* harmony export */   getUsageStats: () => (/* binding */ getUsageStats),\n/* harmony export */   trackApiHit: () => (/* binding */ trackApiHit)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst USAGE_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'data', 'apiUsage.json');\n// Initialize the usage file if it doesn't exist\nfunction ensureUsageFile() {\n    try {\n        const dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), 'data');\n        // Create the data directory if it doesn't exist\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dataDir, {\n                recursive: true\n            });\n        }\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(USAGE_FILE)) {\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(USAGE_FILE, JSON.stringify({\n                accounts: {},\n                proxies: {},\n                pairs: {},\n                lastReset: new Date().toISOString(),\n                dailyStats: []\n            }, null, 2));\n        }\n        return true;\n    } catch (error) {\n        console.error('Error initializing usage file:', error);\n        return false;\n    }\n}\n// Track API hit for an account/proxy combination\nfunction trackApiHit(pair, accountId, proxyHost) {\n    try {\n        if (!ensureUsageFile()) return;\n        // Read the current usage data\n        const usageData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(USAGE_FILE, 'utf8'));\n        const now = new Date();\n        const timestamp = now.toISOString();\n        // Check if we need to archive daily stats (once per day)\n        const lastReset = new Date(usageData.lastReset);\n        if (now.getDate() !== lastReset.getDate() || now.getMonth() !== lastReset.getMonth() || now.getFullYear() !== lastReset.getFullYear()) {\n            // Archive current stats to dailyStats\n            usageData.dailyStats.push({\n                date: lastReset.toISOString().split('T')[0],\n                accounts: {\n                    ...usageData.accounts\n                },\n                proxies: {\n                    ...usageData.proxies\n                },\n                pairs: {\n                    ...usageData.pairs\n                }\n            });\n            // Keep only the last 30 days of stats\n            if (usageData.dailyStats.length > 30) {\n                usageData.dailyStats = usageData.dailyStats.slice(-30);\n            }\n            // Reset counters\n            usageData.accounts = {};\n            usageData.proxies = {};\n            usageData.pairs = {};\n            usageData.lastReset = timestamp;\n        }\n        // Increment account usage\n        if (accountId) {\n            if (!usageData.accounts[accountId]) {\n                usageData.accounts[accountId] = {\n                    hits: 0,\n                    lastHit: null,\n                    pairs: {}\n                };\n            }\n            usageData.accounts[accountId].hits++;\n            usageData.accounts[accountId].lastHit = timestamp;\n            // Track pairs used with this account\n            if (!usageData.accounts[accountId].pairs[pair]) {\n                usageData.accounts[accountId].pairs[pair] = 0;\n            }\n            usageData.accounts[accountId].pairs[pair]++;\n        }\n        // Increment proxy usage\n        if (proxyHost) {\n            if (!usageData.proxies[proxyHost]) {\n                usageData.proxies[proxyHost] = {\n                    hits: 0,\n                    lastHit: null,\n                    pairs: {}\n                };\n            }\n            usageData.proxies[proxyHost].hits++;\n            usageData.proxies[proxyHost].lastHit = timestamp;\n            // Track pairs used with this proxy\n            if (!usageData.proxies[proxyHost].pairs[pair]) {\n                usageData.proxies[proxyHost].pairs[pair] = 0;\n            }\n            usageData.proxies[proxyHost].pairs[pair]++;\n        }\n        // Track pair request frequency\n        if (!usageData.pairs[pair]) {\n            usageData.pairs[pair] = {\n                hits: 0,\n                lastHit: null\n            };\n        }\n        usageData.pairs[pair].hits++;\n        usageData.pairs[pair].lastHit = timestamp;\n        // Save the updated usage data\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(USAGE_FILE, JSON.stringify(usageData, null, 2));\n    } catch (error) {\n        console.error('Error tracking API hit:', error);\n    }\n}\n// Get current usage statistics\nfunction getUsageStats() {\n    try {\n        if (!ensureUsageFile()) return {};\n        const usageData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(USAGE_FILE, 'utf8'));\n        return usageData;\n    } catch (error) {\n        console.error('Error getting usage stats:', error);\n        return {};\n    }\n}\n// Calculate the load distribution percentage for accounts\nfunction getLoadDistribution() {\n    try {\n        const stats = getUsageStats();\n        const totalHits = Object.values(stats.accounts || {}).reduce((sum, account)=>sum + account.hits, 0);\n        if (totalHits === 0) return {\n            accounts: {},\n            proxies: {}\n        };\n        const accountDistribution = {};\n        Object.entries(stats.accounts || {}).forEach(([accountId, data])=>{\n            accountDistribution[accountId] = {\n                percentage: data.hits / totalHits * 100,\n                hits: data.hits,\n                pairs: data.pairs\n            };\n        });\n        const totalProxyHits = Object.values(stats.proxies || {}).reduce((sum, proxy)=>sum + proxy.hits, 0);\n        const proxyDistribution = {};\n        Object.entries(stats.proxies || {}).forEach(([proxyHost, data])=>{\n            proxyDistribution[proxyHost] = {\n                percentage: data.hits / totalProxyHits * 100,\n                hits: data.hits,\n                pairs: data.pairs\n            };\n        });\n        return {\n            accounts: accountDistribution,\n            proxies: proxyDistribution,\n            pairs: stats.pairs || {},\n            lastReset: stats.lastReset,\n            dailyStats: stats.dailyStats || []\n        };\n    } catch (error) {\n        console.error('Error calculating load distribution:', error);\n        return {\n            accounts: {},\n            proxies: {}\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVc0QixLQUFLO1lBQzVESSxpQkFBaUIsQ0FBQ2hDLFVBQVUsR0FBRztnQkFDN0I2QixZQUFZLEtBQU1mLElBQUksR0FBR2dCLGlCQUFrQjtnQkFDM0NoQixNQUFNYyxLQUFLZCxJQUFJO2dCQUNmeEIsT0FBT3NDLEtBQUt0QyxLQUFLO1lBQ25CO1FBQ0Y7UUFFQSxPQUFPO1lBQ0xGLFVBQVVxQztZQUNWcEMsU0FBUzJDO1lBQ1QxQyxPQUFPNEIsTUFBTTVCLEtBQUssSUFBSSxDQUFDO1lBQ3ZCQyxXQUFXMkIsTUFBTTNCLFNBQVM7WUFDMUJHLFlBQVl3QixNQUFNeEIsVUFBVSxJQUFJLEVBQUU7UUFDcEM7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsT0FBTztZQUFFUCxVQUFVLENBQUM7WUFBR0MsU0FBUyxDQUFDO1FBQUU7SUFDckM7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2VtcmFhbi5hZGVtL0RvY3VtZW50cy9Qcm9qZWN0cy9OZXJ2YWxhL05lcnZhbGEuZmlsZXMvc3JjL3V0aWxzL3VzYWdlVHJhY2tlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbmNvbnN0IFVTQUdFX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAnYXBpVXNhZ2UuanNvbicpO1xuXG4vLyBJbml0aWFsaXplIHRoZSB1c2FnZSBmaWxlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbmZ1bmN0aW9uIGVuc3VyZVVzYWdlRmlsZSgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJyk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHRoZSBkYXRhIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gICAgICBmcy5ta2RpclN5bmMoZGF0YURpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gICAgfVxuICAgIFxuICAgIGlmICghZnMuZXhpc3RzU3luYyhVU0FHRV9GSUxFKSkge1xuICAgICAgZnMud3JpdGVGaWxlU3luYyhVU0FHRV9GSUxFLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGFjY291bnRzOiB7fSxcbiAgICAgICAgcHJveGllczoge30sXG4gICAgICAgIHBhaXJzOiB7fSxcbiAgICAgICAgbGFzdFJlc2V0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGRhaWx5U3RhdHM6IFtdXG4gICAgICB9LCBudWxsLCAyKSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyB1c2FnZSBmaWxlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gVHJhY2sgQVBJIGhpdCBmb3IgYW4gYWNjb3VudC9wcm94eSBjb21iaW5hdGlvblxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQXBpSGl0KHBhaXIsIGFjY291bnRJZCwgcHJveHlIb3N0KSB7XG4gIHRyeSB7XG4gICAgaWYgKCFlbnN1cmVVc2FnZUZpbGUoKSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFJlYWQgdGhlIGN1cnJlbnQgdXNhZ2UgZGF0YVxuICAgIGNvbnN0IHVzYWdlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKFVTQUdFX0ZJTEUsICd1dGY4JykpO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbm93LnRvSVNPU3RyaW5nKCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgbmVlZCB0byBhcmNoaXZlIGRhaWx5IHN0YXRzIChvbmNlIHBlciBkYXkpXG4gICAgY29uc3QgbGFzdFJlc2V0ID0gbmV3IERhdGUodXNhZ2VEYXRhLmxhc3RSZXNldCk7XG4gICAgaWYgKG5vdy5nZXREYXRlKCkgIT09IGxhc3RSZXNldC5nZXREYXRlKCkgfHwgXG4gICAgICAgIG5vdy5nZXRNb250aCgpICE9PSBsYXN0UmVzZXQuZ2V0TW9udGgoKSB8fCBcbiAgICAgICAgbm93LmdldEZ1bGxZZWFyKCkgIT09IGxhc3RSZXNldC5nZXRGdWxsWWVhcigpKSB7XG4gICAgICBcbiAgICAgIC8vIEFyY2hpdmUgY3VycmVudCBzdGF0cyB0byBkYWlseVN0YXRzXG4gICAgICB1c2FnZURhdGEuZGFpbHlTdGF0cy5wdXNoKHtcbiAgICAgICAgZGF0ZTogbGFzdFJlc2V0LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgICAgYWNjb3VudHM6IHsgLi4udXNhZ2VEYXRhLmFjY291bnRzIH0sXG4gICAgICAgIHByb3hpZXM6IHsgLi4udXNhZ2VEYXRhLnByb3hpZXMgfSxcbiAgICAgICAgcGFpcnM6IHsgLi4udXNhZ2VEYXRhLnBhaXJzIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBLZWVwIG9ubHkgdGhlIGxhc3QgMzAgZGF5cyBvZiBzdGF0c1xuICAgICAgaWYgKHVzYWdlRGF0YS5kYWlseVN0YXRzLmxlbmd0aCA+IDMwKSB7XG4gICAgICAgIHVzYWdlRGF0YS5kYWlseVN0YXRzID0gdXNhZ2VEYXRhLmRhaWx5U3RhdHMuc2xpY2UoLTMwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmVzZXQgY291bnRlcnNcbiAgICAgIHVzYWdlRGF0YS5hY2NvdW50cyA9IHt9O1xuICAgICAgdXNhZ2VEYXRhLnByb3hpZXMgPSB7fTtcbiAgICAgIHVzYWdlRGF0YS5wYWlycyA9IHt9O1xuICAgICAgdXNhZ2VEYXRhLmxhc3RSZXNldCA9IHRpbWVzdGFtcDtcbiAgICB9XG4gICAgXG4gICAgLy8gSW5jcmVtZW50IGFjY291bnQgdXNhZ2VcbiAgICBpZiAoYWNjb3VudElkKSB7XG4gICAgICBpZiAoIXVzYWdlRGF0YS5hY2NvdW50c1thY2NvdW50SWRdKSB7XG4gICAgICAgIHVzYWdlRGF0YS5hY2NvdW50c1thY2NvdW50SWRdID0ge1xuICAgICAgICAgIGhpdHM6IDAsXG4gICAgICAgICAgbGFzdEhpdDogbnVsbCxcbiAgICAgICAgICBwYWlyczoge31cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdXNhZ2VEYXRhLmFjY291bnRzW2FjY291bnRJZF0uaGl0cysrO1xuICAgICAgdXNhZ2VEYXRhLmFjY291bnRzW2FjY291bnRJZF0ubGFzdEhpdCA9IHRpbWVzdGFtcDtcbiAgICAgIFxuICAgICAgLy8gVHJhY2sgcGFpcnMgdXNlZCB3aXRoIHRoaXMgYWNjb3VudFxuICAgICAgaWYgKCF1c2FnZURhdGEuYWNjb3VudHNbYWNjb3VudElkXS5wYWlyc1twYWlyXSkge1xuICAgICAgICB1c2FnZURhdGEuYWNjb3VudHNbYWNjb3VudElkXS5wYWlyc1twYWlyXSA9IDA7XG4gICAgICB9XG4gICAgICB1c2FnZURhdGEuYWNjb3VudHNbYWNjb3VudElkXS5wYWlyc1twYWlyXSsrO1xuICAgIH1cbiAgICBcbiAgICAvLyBJbmNyZW1lbnQgcHJveHkgdXNhZ2VcbiAgICBpZiAocHJveHlIb3N0KSB7XG4gICAgICBpZiAoIXVzYWdlRGF0YS5wcm94aWVzW3Byb3h5SG9zdF0pIHtcbiAgICAgICAgdXNhZ2VEYXRhLnByb3hpZXNbcHJveHlIb3N0XSA9IHtcbiAgICAgICAgICBoaXRzOiAwLFxuICAgICAgICAgIGxhc3RIaXQ6IG51bGwsXG4gICAgICAgICAgcGFpcnM6IHt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHVzYWdlRGF0YS5wcm94aWVzW3Byb3h5SG9zdF0uaGl0cysrO1xuICAgICAgdXNhZ2VEYXRhLnByb3hpZXNbcHJveHlIb3N0XS5sYXN0SGl0ID0gdGltZXN0YW1wO1xuICAgICAgXG4gICAgICAvLyBUcmFjayBwYWlycyB1c2VkIHdpdGggdGhpcyBwcm94eVxuICAgICAgaWYgKCF1c2FnZURhdGEucHJveGllc1twcm94eUhvc3RdLnBhaXJzW3BhaXJdKSB7XG4gICAgICAgIHVzYWdlRGF0YS5wcm94aWVzW3Byb3h5SG9zdF0ucGFpcnNbcGFpcl0gPSAwO1xuICAgICAgfVxuICAgICAgdXNhZ2VEYXRhLnByb3hpZXNbcHJveHlIb3N0XS5wYWlyc1twYWlyXSsrO1xuICAgIH1cbiAgICBcbiAgICAvLyBUcmFjayBwYWlyIHJlcXVlc3QgZnJlcXVlbmN5XG4gICAgaWYgKCF1c2FnZURhdGEucGFpcnNbcGFpcl0pIHtcbiAgICAgIHVzYWdlRGF0YS5wYWlyc1twYWlyXSA9IHtcbiAgICAgICAgaGl0czogMCxcbiAgICAgICAgbGFzdEhpdDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgdXNhZ2VEYXRhLnBhaXJzW3BhaXJdLmhpdHMrKztcbiAgICB1c2FnZURhdGEucGFpcnNbcGFpcl0ubGFzdEhpdCA9IHRpbWVzdGFtcDtcbiAgICBcbiAgICAvLyBTYXZlIHRoZSB1cGRhdGVkIHVzYWdlIGRhdGFcbiAgICBmcy53cml0ZUZpbGVTeW5jKFVTQUdFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KHVzYWdlRGF0YSwgbnVsbCwgMikpO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRyYWNraW5nIEFQSSBoaXQ6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIEdldCBjdXJyZW50IHVzYWdlIHN0YXRpc3RpY3NcbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2FnZVN0YXRzKCkge1xuICB0cnkge1xuICAgIGlmICghZW5zdXJlVXNhZ2VGaWxlKCkpIHJldHVybiB7fTtcbiAgICBcbiAgICBjb25zdCB1c2FnZURhdGEgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhVU0FHRV9GSUxFLCAndXRmOCcpKTtcbiAgICByZXR1cm4gdXNhZ2VEYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNhZ2Ugc3RhdHM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuXG4vLyBDYWxjdWxhdGUgdGhlIGxvYWQgZGlzdHJpYnV0aW9uIHBlcmNlbnRhZ2UgZm9yIGFjY291bnRzXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9hZERpc3RyaWJ1dGlvbigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdGF0cyA9IGdldFVzYWdlU3RhdHMoKTtcbiAgICBjb25zdCB0b3RhbEhpdHMgPSBPYmplY3QudmFsdWVzKHN0YXRzLmFjY291bnRzIHx8IHt9KS5yZWR1Y2UoKHN1bSwgYWNjb3VudCkgPT4gc3VtICsgYWNjb3VudC5oaXRzLCAwKTtcbiAgICBcbiAgICBpZiAodG90YWxIaXRzID09PSAwKSByZXR1cm4geyBhY2NvdW50czoge30sIHByb3hpZXM6IHt9IH07XG4gICAgXG4gICAgY29uc3QgYWNjb3VudERpc3RyaWJ1dGlvbiA9IHt9O1xuICAgIE9iamVjdC5lbnRyaWVzKHN0YXRzLmFjY291bnRzIHx8IHt9KS5mb3JFYWNoKChbYWNjb3VudElkLCBkYXRhXSkgPT4ge1xuICAgICAgYWNjb3VudERpc3RyaWJ1dGlvblthY2NvdW50SWRdID0ge1xuICAgICAgICBwZXJjZW50YWdlOiAoZGF0YS5oaXRzIC8gdG90YWxIaXRzKSAqIDEwMCxcbiAgICAgICAgaGl0czogZGF0YS5oaXRzLFxuICAgICAgICBwYWlyczogZGF0YS5wYWlyc1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCB0b3RhbFByb3h5SGl0cyA9IE9iamVjdC52YWx1ZXMoc3RhdHMucHJveGllcyB8fCB7fSkucmVkdWNlKChzdW0sIHByb3h5KSA9PiBzdW0gKyBwcm94eS5oaXRzLCAwKTtcbiAgICBjb25zdCBwcm94eURpc3RyaWJ1dGlvbiA9IHt9O1xuICAgIE9iamVjdC5lbnRyaWVzKHN0YXRzLnByb3hpZXMgfHwge30pLmZvckVhY2goKFtwcm94eUhvc3QsIGRhdGFdKSA9PiB7XG4gICAgICBwcm94eURpc3RyaWJ1dGlvbltwcm94eUhvc3RdID0ge1xuICAgICAgICBwZXJjZW50YWdlOiAoZGF0YS5oaXRzIC8gdG90YWxQcm94eUhpdHMpICogMTAwLFxuICAgICAgICBoaXRzOiBkYXRhLmhpdHMsXG4gICAgICAgIHBhaXJzOiBkYXRhLnBhaXJzXG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7IFxuICAgICAgYWNjb3VudHM6IGFjY291bnREaXN0cmlidXRpb24sIFxuICAgICAgcHJveGllczogcHJveHlEaXN0cmlidXRpb24sXG4gICAgICBwYWlyczogc3RhdHMucGFpcnMgfHwge30sXG4gICAgICBsYXN0UmVzZXQ6IHN0YXRzLmxhc3RSZXNldCxcbiAgICAgIGRhaWx5U3RhdHM6IHN0YXRzLmRhaWx5U3RhdHMgfHwgW11cbiAgICB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIGxvYWQgZGlzdHJpYnV0aW9uOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBhY2NvdW50czoge30sIHByb3hpZXM6IHt9IH07XG4gIH1cbn0gIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsIlVTQUdFX0ZJTEUiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImVuc3VyZVVzYWdlRmlsZSIsImRhdGFEaXIiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwid3JpdGVGaWxlU3luYyIsIkpTT04iLCJzdHJpbmdpZnkiLCJhY2NvdW50cyIsInByb3hpZXMiLCJwYWlycyIsImxhc3RSZXNldCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImRhaWx5U3RhdHMiLCJlcnJvciIsImNvbnNvbGUiLCJ0cmFja0FwaUhpdCIsInBhaXIiLCJhY2NvdW50SWQiLCJwcm94eUhvc3QiLCJ1c2FnZURhdGEiLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsIm5vdyIsInRpbWVzdGFtcCIsImdldERhdGUiLCJnZXRNb250aCIsImdldEZ1bGxZZWFyIiwicHVzaCIsImRhdGUiLCJzcGxpdCIsImxlbmd0aCIsInNsaWNlIiwiaGl0cyIsImxhc3RIaXQiLCJnZXRVc2FnZVN0YXRzIiwiZ2V0TG9hZERpc3RyaWJ1dGlvbiIsInN0YXRzIiwidG90YWxIaXRzIiwiT2JqZWN0IiwidmFsdWVzIiwicmVkdWNlIiwic3VtIiwiYWNjb3VudCIsImFjY291bnREaXN0cmlidXRpb24iLCJlbnRyaWVzIiwiZm9yRWFjaCIsImRhdGEiLCJwZXJjZW50YWdlIiwidG90YWxQcm94eUhpdHMiLCJwcm94eSIsInByb3h5RGlzdHJpYnV0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./src/utils/usageTracker.js\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fusage&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fusage.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();